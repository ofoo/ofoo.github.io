(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{370:function(t,a,s){"use strict";s.r(a);var n=s(44),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"javaweb笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javaweb笔记"}},[t._v("#")]),t._v(" JavaWeb笔记")]),t._v(" "),s("h2",{attrs:{id:"javaweb性能调优"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javaweb性能调优"}},[t._v("#")]),t._v(" JavaWeb性能调优")]),t._v(" "),s("p",[t._v("现代大规模关键性系统中的Java性能调优，是一项富有挑战的任务。你需要关注各种问题，包括算法结构、内存分配模式以及磁盘和文件I/O的使用方式。性能调优最困难的是找出问题，即便是经验丰富的人也会被他们的直觉所误导。性能杀手总是隐藏在最意想不到的地方。")]),t._v(" "),s("h3",{attrs:{id:"自顶向下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自顶向下"}},[t._v("#")]),t._v(" 自顶向下")]),t._v(" "),s("p",[t._v("监控的范围包括操作系统、Java虚拟机、JavaEE容器以及应用的性能测量统计指标。基于监控信息所给出的提示再开展下一步工作，例如JVM垃圾收集器调优、JVM命令行选项调优、操作系统调优，或者应用程序性能分析。性能分析可能导致应用程序的更改，或者发现第三方库或Java SE类库在实现上的不足。")]),t._v(" "),s("h3",{attrs:{id:"自底向上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自底向上"}},[t._v("#")]),t._v(" 自底向上")]),t._v(" "),s("p",[t._v("自底向上需要收集和监控最底层CPU的性能统计数据。监控的CPU统计数据包括执行特定任务所需要的CPU指令数（通常称为路径长度，Path Length），以及应用在一定负载下运行时的CPU高速缓存未命中率。虽然还有其他重要的CPU统计数据，但这两项是自底向上中最常用的。在一定负载下，应用执行和扩展所需的CPU指令越少，运行得就越快。")]),t._v(" "),s("p",[t._v("降低CPU高速缓存未命中率也能改善应用的性能，因为CPU高速缓存未命中会导致CPU为了等待从内存获取数据而浪费若干个周期，而降低CPU高速缓存未命中率，意味着CPU可以减少等待内存数据的时间，应用就能运行得更快。")]),t._v(" "),s("p",[t._v("自底向上关注的通常是在不更改应用的前提下，改善CPU使用率。")]),t._v(" "),s("p",[t._v("现代Java虚拟机集成了成熟的JIT编译器，可以在Java应用的执行过程中进行优化，比如依据应用的内存访问模式或应用特定的代码路径，生成更有效地机器码。也可以调整操作系统的设置来改善性能，例如更改CPU调度算法，或者修改操作系统的等待时间（操作系统在将应用执行线程迁移到其他CPU硬件线程之前所花费的时间）。")]),t._v(" "),s("p",[t._v("如果你觉得可以用自底向上的方法，那应该先从收集操作系统JVM的统计数据开始。")]),t._v(" "),s("p",[t._v("我们会请专家来帮助改善应用性能，他们有时会发现，性能差只是因为应用运行的CPU架构或系统不合适。引入多核和每核多硬件线程（也称为CMT,Chip Multithreading）以后，CPU架构和系统已经发生了天翻地覆的变化，因此为特定应用选择正确的平台和CPU架构就显得尤为重要了。")]),t._v(" "),s("h2",{attrs:{id:"图解http"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图解http"}},[t._v("#")]),t._v(" 图解HTTP")]),t._v(" "),s("p",[t._v("Web 使用一种名为 HTTP（HyperText Transfer Protocol，超文本传输协议）的协议作为规范，完成从客户端到服务器端等一系列运作流程。而协议是指规则的约定。可以说，Web 是建立在 HTTP 协议上通信的。")]),t._v(" "),s("p",[t._v("通常使用的网络（包括互联网）是在 TCP/IP 协议族的基础上运作的。而 HTTP 属于它内部的一个子集。")]),t._v(" "),s("p",[t._v("TCP/IP 协议族按层次分别分为以下 4 层：应用层、传输层、网络层和数据链路层。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("应用层：")]),t._v(" 应用层决定了向用户提供应用服务时通信的活动。")]),t._v(" "),s("li",[s("strong",[t._v("传输层：")]),t._v(" 传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。")]),t._v(" "),s("li",[s("strong",[t._v("网络层（又名网络互连层）：")]),t._v(" 网络层用来处理在网络上流动的数据包。")]),t._v(" "),s("li",[s("strong",[t._v("链路层（又名数据链路层，网络接口层）：")]),t._v(" 用来处理连接网络的硬件部分。")])]),t._v(" "),s("p",[t._v("利用 TCP/IP 协议族进行网络通信时，会通过分层顺序与对方进行通信。发送端从应用层往下走，接收端则往应用层往上走。")]),t._v(" "),s("p",[t._v("发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。")]),t._v(" "),s("h2",{attrs:{id:"java-string-lastindexof的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-string-lastindexof的使用"}},[t._v("#")]),t._v(" Java String.lastIndexOf的使用")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/testing/testingPaper?id=70&planId=430"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lastIndexOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输出34")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("substring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("34")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//输出"/testing/testingPaper?id=70&planId"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("substring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("34")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//输出"/testing/testingPaper?id=70&planId="')]),t._v("\n")])])]),s("p",[s("code",[t._v("lastIndexOf")]),t._v("获取的等号（=）索引值在截取时，获取的值是不包含等号（=）的，需要+1才可以获取到等号（=）的值")])])}),[],!1,null,null,null);a.default=e.exports}}]);